c_number <- .get_case_number(case.name, clist)
View(clist)
case.name = "test"
c_number <- .get_case_number(case.name, clist)
c_folder <- paste(sobek.project, c_number, sep = "/")
wk_folder <- format(Sys.time(), format = "%d%m%Y_%H%M%S")
wkd <- getwd()
wk_folder <- paste(wkd, wk_folder, "work", sep = "/")
dir.create(wk_folder, recursive = TRUE)
wk_folder
setwd(wk_folder)
# copy case folder to work folder
file.copy(from = dir(c_folder, full.names = TRUE,
recursive = TRUE,
all.files = TRUE,
include.dirs = TRUE,
no.. = TRUE
),
to = wk_folder)
file.copy(from = paste(sobek.path, "programs/simulate.ini", sep = "/"),
to = wk_folder)
file.copy(from = "status.cas",
to = "@status.cas")
wk_folder
file.copy(from = "status.cas",
to = "\@status.cas")
file.copy(from = "status.cas",
to = "@status.cas")
file.copy(from = "status.cas",
to = "@status.cas")
file.copy(from = "status.cas",
to = "@status.cas", overwrite = T)
cmd <- paste("cmd.exe /k ", sobek.path, "/programs/simulate.exe simulate.ini", sep = "")
system(cmd)
tmp <- dir(sobek.project)
tmp
is.numeric(tmp[1])
is.integer(as.integer([1]))
is.integer(as.integer(tmp[1]))
is.integer(as.integer(tmp[241]))
is.na(as.integer(tmp[241]))
is.na(as.integer("NA11"))
is.na(as.integer("112n"))
files <- dir(sobek.project, full.names = TRUE)
files
prj_files <- dir(sobek.project, full.names = FALSE)
prj_files
prj_files[grepl("^[0-9]{1,}$", prj_files)]
prj_files[!grepl("^[0-9]{1,}$", prj_files)]
prj_files[grepl("^[0-9]{1,}$", prj_files)] <- NULL
prj_files <- prj_files[!grepl("^[0-9]{1,}$", prj_files)]
prj_files
prj_files <- dir(sobek.project, full.names = TRUE)
prj_files <- prj_files[!grepl("\\[0-9]{1,}$", prj_files)]
prj_files
prj_files <- prj_files[!grepl("/[0-9]{1,}$", prj_files)]
prj_files <- prj_files[!grepl("/[0-9]{1,}$", prj_files)]
prj_files
prj_files <- dir(sobek.project, full.names = TRUE)
basename(prj_files[1])
file.copy(from = prj_files,
to = wk_folder,
recursive = TRUE)
prj_files <- prj_files[!grepl("/[0-9]{1,}$", prj_files)]
setwd("~/sobekio/08102018_075443")
setwd("~/sobekio")
wk_folder
wk_folder <- "D:/Users/Duong/Documents/sobekio/08102018_075443"
file.copy(from = prj_files,
to = wk_folder,
recursive = TRUE)
getwd()
wkd <- getwd()
wk_folder <- paste(wkd, wk_folder, "work", sep = "/")
dir.create(wk_folder, recursive = TRUE)
wk_folder
wk_folder <- "D:/Users/Duong/Documents/sobekio/08102018_075443/work"
dir.create(wk_folder, recursive = TRUE)
setwd(wk_folder)
# copy case folder to work folder
file.copy(from = dir(c_folder, full.names = TRUE,
recursive = TRUE,
all.files = TRUE,
include.dirs = TRUE,
no.. = TRUE
),
to = wk_folder)
file.copy(from = dir(c_folder, full.names = TRUE,
recursive = TRUE,
all.files = TRUE,
include.dirs = TRUE,
no.. = TRUE
),
to = wk_folder)
file.copy(from = paste(sobek.path, "programs/simulate.ini", sep = "/"),
to = wk_folder)
file.copy(from = "status.cas",
to = "@status.cas", overwrite = TRUE)
cmd <- paste("cmd.exe /k ", sobek.path, "/programs/simulate.exe simulate.ini", sep = "")
cmd <- paste("cmd.exe /c ", sobek.path, "/programs/simulate.exe simulate.ini", sep = "")
system(cmd)
wk_folder <- "D:/Users/Duong/Documents/sobekio/08102018_075443"
file.copy(from = dir(c_folder, full.names = TRUE,
recursive = TRUE,
all.files = TRUE,
include.dirs = TRUE,
no.. = TRUE
),
to = wk_folder)
prj_files <- dir(sobek.project, full.names = TRUE)
prj_files <- prj_files[!grepl("/[0-9]{1,}$", prj_files)]
file.copy(from = prj_files,
to = wk_folder,
recursive = TRUE)
# copy case folder to work folder
file.copy(from = dir(c_folder, full.names = TRUE,
recursive = TRUE,
all.files = TRUE,
include.dirs = TRUE,
no.. = TRUE
),
to = paste(wk_folder, c_number, sep = "/")
)
c_folder
# copy case folder to work folder
file.copy(from = c_folder,
to = wk_folder
)
c_folder
wk_folder
# copy case folder to work folder
file.copy(from = c_folder,
to = wk_folder,
recursive = TRUE
)
wk_folder <- paste(wk_folder, "work", sep = "/")
if(!dir.exists(wk_folder)) dir.create(wk_folder)
file.copy(from = dir(c_folder, full.names = TRUE,
recursive = TRUE,
all.files = TRUE,
include.dirs = TRUE,
no.. = TRUE
),
to = wk_folder)
file.copy(from = paste(sobek.path, "programs/simulate.ini", sep = "/"),
to = wk_folder)
file.copy(from = "status.cas",
to = "@status.cas", overwrite = TRUE)
setwd(wk_folder)
cmd <- paste("cmd.exe /c ", sobek.path, "/programs/simulate.exe simulate.ini", sep = "")
system(cmd)
setwd(wkd)
print("Waiting for Sobek Simulation.exe. Do not terminate R or run any other commands...")
print("If you need to do something else with R, please open another session")
print("Waiting for Sobek Simulation.exe. Do not terminate R or run any other commands...")
print("If you need to do something else with R, please open another session")
devtools::load_all("~/sobekio")
so_prj <- "d:/so21302/main2015.lit"
cname <- "MainMod_HW2003_vg1682_K_LfU"
library(data.tabe)
library(data.table)
library(sobekio)
library(data.table)
sobek_sim(case.name = cname,
sobek.project = so_prj,
sobek.path = "d:/so21302")
setwd("~/sobekio")
library(sobekio)
sobek_sim(case.name = cname,
sobek.project = so_prj,
sobek.path = "d:/so21302")
is.vector("sdf")
is.character("wids.txt")
length("wids.txt")
file.exists("wids.txt")
Sys.time()
data.table(list("sdfsf", Sys.Date(), "dff"))
data.table::data.table(list("sdfsf", Sys.Date(), "dff"))
library(sobekio)
library(data.table)
ids
ids <- "tasfsf.sdfsdf"
inputdt <- "dfsfasf"
tmp <- data.table(list(ids,inputdt))
library(data.table)
tmp <- data.table(list(ids,inputdt))
tmp
getwd()
tmp <- data.table(list(paste(*,ids),paste(*,inputdt)))
tmp <- data.table(list(paste("*",ids),paste("*",inputdt)))
tmp
devtools::load_all(".")
create_dat(id.file = "ID_ohne_Worms_FRA.txt",
data.file = "inputRhein.txt",
bnd.header = "bnd_selten.dat",
lat.header = "lat_header.dat",
bnd.out = "boundary.dat",
lat.out = "lateral.dat")
create_dat(id.file = "ID_ohne_Worms_FRA.txt",
data.file = "inputRhein.txt",
bnd.header = "bnd_selten.dat",
lat.header = "lat_header.dat",
bnd.out = "boundary.dat",
lat.out = "lateral.dat")
devtools::load_all(".")
create_dat(id.file = "ID_ohne_Worms_FRA.txt",
data.file = "inputRhein.txt",
bnd.header = "bnd_selten.dat",
lat.header = "lat_header.dat",
bnd.out = "boundary.dat",
lat.out = "lateral.dat")
create_dat(id.file = "ID_ohne_Worms_FRA.txt",
data.file = "inputRhein.txt",
bnd.header = "bnd_selten.dat",
lat.header = "lat_header.dat",
bnd.out = "boundary.dat",
lat.out = "lateral.dat")
create_dat(id.file = "ID_ohne_Worms_FRA.txt",
data.file = "inputRhein.txt",
bnd.header = "bnd_selten.dat",
lat.header = "lat_header.dat",
bnd.out = "boundary.dat",
lat.out = "lateral.dat",
factor = 1.4)
Sys.time()
devtools::load_all(".")
create_dat(id.file = "ID_ohne_Worms_FRA.txt",
data.file = "inputRhein.txt",
bnd.header = "bnd_selten.dat",
lat.header = "lat_header.dat",
bnd.out = "boundary.dat",
lat.out = "lateral.dat",
factor = 1.4)
devtools::load_all(".")
create_dat(id.file = "ID_ohne_Worms_FRA.txt",
data.file = "inputRhein.txt",
bnd.header = "bnd_selten.dat",
lat.header = "lat_header.dat",
bnd.out = "boundary.dat",
lat.out = "lateral.dat",
factor = 1.4)
create_dat(id.file = "ID_ohne_Worms_FRA.txt",
data.file = "inputRhein.txt",
bnd.header = "bnd_selten.dat",
lat.header = "lat_header.dat",
bnd.out = "boundary.dat",
lat.out = "lateral.dat",
factor = 1.4)
devtools::load_all(".")
create_dat(id.file = "ID_ohne_Worms_FRA.txt",
data.file = "inputRhein.txt",
bnd.header = "bnd_selten.dat",
lat.header = "lat_header.dat",
bnd.out = "boundary.dat",
lat.out = "lateral.dat",
factor = 1.4)
library(sobekio)
devtools::load_all(".")
create_case(old.name = '2013_Basis_V4',
new.name = '2013_Basis_V4_KP',
new.begin = "26.05.2013 23:00:00"
new.end = "26.12.2013 23:00:00")
create_case(old.name = '2013_Basis_V4',
new.name = '2013_Basis_V4_KP',
new.begin = "26.05.2013 23:00:00",
new.end = "26.12.2013 23:00:00")
library(sobekio)
getwd()
sobek_sim(case.name = 'Bezug18_Maßn_Bret_Spon_Gunter_QP_Natur_Vmax13_Orsoy',
sobek.project = "d:/so21302/rhein29a.lit",
sobek.path = "d:/so21302")
devtools::load_all(".")
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
devtools::load_all(".")
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
cdesc <- data.table::fread(file = "d:/casedesc.cmt", header = F, quote = F,
sep = "\n")
getwd()
devtools::load_all(".")
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
library(sobekio)
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
library(sobekio)
readline("sadffs")
library(sobekio)
ask_cp <- readline("copy result back to the case folder? (y/n): ")
ask_cp
getwd()
ls()
dir()
setwd("~/sobekio")
file.remove("27112018_084741")
file.remove("27112018_084741", recursive)
unlink("27112018_084741")
unlink("27112018_084741", recursive = T)
unlink("27112018_103451", recursive = T)
unlink("27112018_103803", recursive = T)
library(sobekio)
sobek_sim(case.name = 'Bezug18_Maßn_Bret_Spon_Gunter_QP_Natur_Vmax13_Orsoy',
sobek.project = "d:/so21302/rhein29a.lit",
sobek.path = "d:/so21302")
devtools::load_all(".")
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
list.files(".", all.files = )
list.files(".", all.files = T)
list.files("./test", all.files = T)
list.files("./test", "*.", all.files = T)
list.files("./test", "*.*", all.files = T)
list.files("./test", "*.*", all.files = T, no.. = T)
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
library(sobekio)
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
sobek_sim(case.name = 'Bezug18_Maßn_Bret_Spon_Gunter_QP_Natur_Vmax13_Orsoy_2',
sobek.project = "d:/so21302/rhein29a.lit",
sobek.path = "d:/so21302")
devtools::load_all(".")
devtools::load_all(".")
sobek_sim(case.name = 'Bezug18_Maßn_Bret_Spon_Gunter_QP_Natur_Vmax13_Orsoy_2',
sobek.project = "d:/so21302/rhein29a.lit",
sobek.path = "d:/so21302")
devtools::load_all(".")
flist <- sobek_sim(case.name = 'Bezug18_Maßn_Bret_Spon_Gunter_QP_Natur_Vmax13_Orsoy_2',
sobek.project = "d:/so21302/rhein29a.lit",
sobek.path = "d:/so21302")
devtools::load_all(".")
flist <- sobek_sim(case.name = 'Bezug18_Maßn_Bret_Spon_Gunter_QP_Natur_Vmax13_Orsoy_2',
sobek.project = "d:/so21302/rhein29a.lit",
sobek.path = "d:/so21302")
devtools::load_all(".")
flist <- sobek_sim(case.name = 'Bezug18_Maßn_Bret_Spon_Gunter_QP_Natur_Vmax13_Orsoy_2',
sobek.project = "d:/so21302/rhein29a.lit",
sobek.path = "d:/so21302")
flist
library(sobekio)
library(sobekio)
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
library(sobekio)
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t2',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t2',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t2',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
library(sobekio)
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t2',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t3',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
library(XML)
library(sobekio)
library(sobekio)
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t3',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
library(sobekio)
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t3',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
library(sobekio)
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t3',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t3',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
library(sobekio)
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t3',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
library(sobekio)
parsen_msg <- parsen_msg[V1 %like% "%Error%",]
devtools::load_all("~/sobekio")
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t3',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
library(sobekio)
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t3',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
setwd("~/sobekio")
library(sobekio)
sobek_sim(case.name = 'MainMod_HW2003_vg1727_t2',
sobek.project = "d:/so21302/main2015.lit",
sobek.path = "d:/so21302")
library(sobekio)
sobek_sim(case.name = 'MainMod_HW2003_vg1727',
sobek.project = "Z:\M\M2\work\duong\So21302\main2015.lit",
sobek.path = "d:/so21302",
overwrite = F)
sobek_sim(case.name = 'MainMod_HW2003_vg1727',
sobek.project = "Z:/M/M2/work/duong/So21302/main2015.lit",
sobek.path = "d:/so21302",
overwrite = F)
sobek_sim(case.name = 'HW13_VH_2018_TR_neue_IDs_bereinigt_bound_geesth',
sobek.project = "D:\\2018_neu.lit",
sobek.path = "d:/so21503",
overwrite = F)
sobek_sim(case.name = 'HW13_VH_2018_TR_neue_IDs',
sobek.project = "D:\\2018_neu.lit",
sobek.path = "d:/so21503",
overwrite = F)
sobek_sim(case.name = 'HW13_VH_2018_TR_neue_IDs',
sobek.project = "D:\\2018_neu.lit",
sobek.path = "d:/so21503",
overwrite = F)
sobek_sim(case.name = 'HW13_VH_2018_TR_neue_IDs',
sobek.project = "D:\\2018_neu.lit",
sobek.path = "d:/so21503",
overwrite = F)
library(sobekio)
sobek_sim(case.name = 'HW13_VH_2018_TR_neue_IDs',
sobek.project = "D:\\2018_neu.lit",
sobek.path = "d:/so21503",
overwrite = F)
setwd("~/sobekio")
setwd("~/sobekio")
library(sobekio)
sobek_sim(case.name = 'HW13_VH_2018_TR_neue_IDs',
sobek.project = "D:\\2018_neu.lit",
sobek.path = "d:/so21503",
overwrite = F)
sobek_sim(case.name = 'HW13_VH_2018_TR_neue_IDs',
sobek.project = "D:\\2018_neu.lit",
sobek.path = "d:/so21503",
overwrite = F)
library(sobekio)
tmp <- c("dafadf", "sdfsdfsdf")
is.vector(tmp)
is.vector("sdfsdf")
is.list("sdfsdf")
is.list(tmp)
unlist(tmp)
list_data <- list(c("Jan","Feb","Mar"), matrix(c(3,9,5,1,-2,8), nrow = 2),
list("green",12.3))
list_data
unlist(list_data)
library(data.table)
tmp <- "Z:\\M\\M2\\work\\duong\\NHWSP-Rhein\\Simulation_Ergebnisse\\rhein_ergebnisse\\vg_koeln\\nach_laufen\\20180907\\qIDs.txt"
fread(tmp)
fread(file = c(tmp))
fread(file = list(tmp))
tmp <- list("Z:\\M\\M2\\work\\duong\\NHWSP-Rhein\\Simulation_Ergebnisse\\rhein_ergebnisse\\vg_koeln\\nach_laufen\\20180907\\qIDs.txt")
tmp
length(tmp)
is.vector(tmp)
file.exists(tmp)
is.character("1232")
tmp
clist <- list(
'4_Main_2013_neue_LAT_fixP13_HW2013',
'4_Main_2013_neue_LAT_fixP13_hist_HW2011',
'4_Main_2013_neue_LAT_fixP13_hist_HW2003',
'4_Main_2013_neue_LAT_fixP13_hist_HW1999',
'4_Main_2013_neue_LAT_fixP13_hist_HW1995',
'4_Main_2013_neue_LAT_fixP13_hist_HW1988',
'4_Main_2013_neue_LAT_fixP13_HW1988_korr',
'4_Main_2013_neue_LAT_fixP13_HW1995_korr',
'4_Main_2013_neue_LAT_fixP13_HW1995_korr_2')
clist <- unlist(clist)
clist
clist <- list(
'4_Main_2013_neue_LAT_fixP13_HW2013',
'4_Main_2013_neue_LAT_fixP13_hist_HW2011',
'4_Main_2013_neue_LAT_fixP13_hist_HW2003',
'4_Main_2013_neue_LAT_fixP13_hist_HW1999',
'4_Main_2013_neue_LAT_fixP13_hist_HW1995',
'4_Main_2013_neue_LAT_fixP13_hist_HW1988',
'4_Main_2013_neue_LAT_fixP13_HW1988_korr',
'4_Main_2013_neue_LAT_fixP13_HW1995_korr',
'4_Main_2013_neue_LAT_fixP13_HW1995_korr_2')
tmp <- as.data.frame(clist)
tmp
View(tmp)
clist <- unlist(clist)
tmp <- as.data.frame((matrix(clist,
tmp <- as.data.frame(matrix(clist,
nrow = length(case.list),
ncol = 1))
tmp <- as.data.frame(matrix(clist,
nrow = length(clist),
ncol = 1))
View(tmp)
tmp <- data.table(matrix(clist,
nrow = length(clist),
ncol = 1))
View(tmp)
is.data.frame(tmp)
tmp <- data.table(tmp)
